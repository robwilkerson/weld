#!/bin/bash

# Git pre-commit hook
# Runs the pre-commit check script before allowing commits

# Find the project root (where .git directory is)
PROJECT_ROOT=$(git rev-parse --show-toplevel)

# Run the pre-commit check script
if [ -x "$PROJECT_ROOT/bin/pre-commit-check.sh" ]; then
    # Pass any stdin (commit message) to the script
    "$PROJECT_ROOT/bin/pre-commit-check.sh" < /dev/stdin
    exit $?
else
    echo "Warning: pre-commit-check.sh not found or not executable"
    echo "Run: chmod +x $PROJECT_ROOT/bin/pre-commit-check.sh"
    exit 0
fi